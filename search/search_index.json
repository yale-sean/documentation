{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"SEAN 3.0","text":""},{"location":"#getting-started","title":"Getting Started","text":"<p>Learn how to set up and use SEAN 3.0.</p>"},{"location":"#velodyne-sensor-demo","title":"Velodyne Sensor Demo","text":"<p>Run a simple interaction scenario using SEAN 3.0 with its built-in sensors.</p>"},{"location":"#reinforcement-learning-demo","title":"Reinforcement Learning Demo","text":"<p>Run a reinforcement learning scenario using SEAN 3.0 with multiple agents.</p>"},{"location":"getting_started/","title":"Getting Started","text":""},{"location":"getting_started/#setup","title":"Setup","text":"<p>This guide will walk you through setting up the simulation environment where Unity runs in Windows and ROS runs in a WSL2 virtual machine.</p>"},{"location":"getting_started/#dependencies","title":"Dependencies","text":"<ul> <li> <p>Confirm that your system is running Windows 10 or Windows 11.</p> </li> <li> <p>Install WSL.</p> </li> <li> <p>If you already have WSL installed, make sure it is running WSL 2. In PowerShell, set WSL 2 as the default version for newly installed Linux distributions: <code>wsl.exe --set-default-version 2</code></p> </li> <li> <p>Download and install Ubuntu 20.04.06 LTS.</p> </li> <li> <p>In PowerShell, set the default Linux distribution that WSL commands will use to be Ubuntu 20.04: <code>wsl.exe --set-default Ubuntu-20.04</code></p> </li> <li> <p>Download and install Git.</p> </li> </ul>"},{"location":"getting_started/#install-unity","title":"Install Unity","text":"<p>Note: Install Unity in Windows, not in WSL2.</p> <ul> <li> <p>Download and install Unity Hub.</p> </li> <li> <p>Log in to Unity Hub. If you do not have an account, create a Unity account now.</p> </li> </ul>"},{"location":"getting_started/#checkout-open-the-sean-30-unity-project","title":"Checkout &amp; Open the SEAN 3.0 Unity Project","text":"<ul> <li> <p>Clone the <code>social_sim_unity</code> into some Unity Project folder</p> </li> <li> <p>Checkout the hdrp-rl branch: <code>git checkout hdrp-rl</code></p> </li> <li> <p>Initialize and update all submodules in the repository: <code>git submodule update --init --recursive</code></p> </li> </ul> <p>Note: If you run into errors such as: <pre><code>error: inflate: data stream error (incorrect data check)\nerror: unable to read sha1 file of &lt;path/to/asset/file&gt;\n</code></pre> Add the <code>--force</code> flag to this command: <pre><code> git submodule update --init --recursive --force\n</code></pre></p> <ul> <li> <p>Launch Unity Hub and open the cloned <code>social_sim_unity</code> project</p> </li> <li> <p>If the required Unity Editor version is not installed, Unity Hub will prompt you to install it when opening the Sean 3.0 project.</p> </li> <li> <p>For more details, see the Unity documentation on adding an existing project from disk and opening a project with a different Editor version.  </p> </li> </ul>"},{"location":"getting_started/#wsl-side-with-ros-noetic","title":"WSL side with ROS noetic","text":""},{"location":"getting_started/#install-ros-and-use-preconfigured-workspace","title":"Install ROS and Use Preconfigured Workspace.","text":"<p>Install by following the ROS Noetic Setup Guide. If you run into any problem or want to learn more about ROS Noetic, see ROS Noetic. Then, you can use the sim_ws as a starting point for your catkin workspace. Start by checking out the repository.</p> <p>Install preconfigured workspace</p> <pre><code>git clone https://github.com/yale-img/sim_ws ~/sim_ws\n</code></pre> <p>Then, run the installer scripts to install all required packages:</p> <pre><code>cd ~/sim_ws/\n./scripts/setup.sh\n</code></pre> <p>In your base environment, install custom tkinter for the GUI interface</p> <pre><code>pip install customtkinter\n</code></pre> <ul> <li>Ensure that both your <code>~/sim_ws</code> and <code>roscd social_sim_ros</code> git branches are on <code>hdrp-rl</code></li> </ul> <p>Open-AI Gym Setup</p> <p>Install <code>uv</code>: https://docs.astral.sh/uv/getting-started/installation/#standalone-installer</p> <p>Navigate to the <code>social_sim_multiagent</code> repo</p> <pre><code>cd ~/sim_ws/src/social_sim_multiagent\n</code></pre> <p>and run the following commands to install all the required dependencies for the learning features</p> <pre><code>uv sync\nuv pip install -e multi-agent-envs/\n</code></pre>"},{"location":"rl_demo/","title":"Reinforcement Learning Demo","text":"<p>Here we will show you how to run a simple learning demo to train a reinforcement learning policy using SEAN 3.0 with multiple agents.</p> <p>Open the <code>social_sim_unity</code> project and open the <code>Warehouse Scene</code> but do not hit Play yet.</p> <p>To run a simple demo to demonstrate the new sensor capabilities navigate to <code>/sim_ws/tmux/multi_agent_sean</code> folder to start tmuxinator</p> <pre><code>cd ~/sim_ws/tmux/multi_agent_sean\ntmuxinator\n</code></pre>"},{"location":"rl_demo/#the-tmuxinatoryml-launches-the-following-files","title":"The <code>.tmuxinator.yml</code> launches the following files","text":"<ul> <li><code>rosrun social_sim_ros map_publisher.py</code> <ul> <li>Note: this launches the map_publisher, it is MANUALLY SET to warehouse for testing purposes so be sure to only use Unity warehouse scene</li> </ul> </li> <li><code>rosrun social_sim_ros multi_agent_tcp_server.py</code><ul> <li>Note: this starts the ROS tcp server for registering all publishers, transforms, services, and publishers with Unity. When this is launched, it expects a <code>ros_unity_config.json</code> file in the <code>social_sim_ros\\social_sim_ros\\src</code> folder which is automatically created as soon as you hit save config in the sean interface gui. This runs on port 10000.</li> </ul> </li> <li><code>rosrun rviz rviz -d $(rospack find social_sim_ros)/config/multi_agent.rviz</code><ul> <li>Note: this launches a custom rviz config, currently hardcoded to two agents to visualize pointclouds, TF, and laserscans</li> </ul> </li> <li><code>python3 $(rospack find social_sim_ros)/src/sean_interface.py</code> <ul> <li>Note: this launches the sean_interface gui where you should specify how many robots you want, what types, and what sensors. Also, you can enable synchronous mode and tick duration here. </li> </ul> </li> <li><code>conda activate marl &amp;&amp; cd $HOME/sim_ws/src/social_sim_multiagent &amp;&amp; sleep 5 &amp;&amp; python3 maddpg-pytorch/main.py a</code><ul> <li>This is the openaigym-ros interface which instantiates a synchronous tcp server whenever sync mode is true. client.tick() must be called before env.reset() and env.step(). If there are no messages that say Odom received and Scan received in this window, it is likely that unity did not initialize all agents and topics before the first tick message was sent. Adjust sleep as necessary.</li> </ul> </li> <li><code>sleep 5 &amp;&amp; rosrun social_sim_ros plot_robot_trajectory.py</code><ul> <li>This just visualizes path markers for the <code>/robot/i/cmd_vel</code> topics in rviz so you can track the path of the RL policy. </li> </ul> </li> </ul>"},{"location":"rl_demo/#some-tips","title":"Some Tips:","text":"<p>The topics for each robot are prefixed <code>/robot/{i}/</code> and the frames are prefixed <code>robot_{i}_</code> </p> <p>Synchronous mode allows you to pause and unpause the ROSClock that is publishing in Unity. Unity will perform physics fixed updates as much as possible before tick_duration elapses in unity simulation time. To control the fixed timestepping of the Unity environment you need to run client.tick() imported from synchronous_tcp_server (SychronousTcpServer class). </p> <ul> <li>Note: When the simulation is paused in synchronous mode, unity will not receive or publish any messages. The sychronous tcp server runs on port 8080 so make sure that port forwarding rules are enabled for 8080.</li> </ul> <p>If you want to reset the agent initialization settings, note that the sean_interface gui resets parameters FOR THE NEXT RUN unless there is no config json available at which the multi_agent_tcp_server.py will hang and complain that no such file is available. If this is the case, you should generate configuration, close the tmux terminal, relaunch tmuxinator, then hit play in Unity.</p> <p>The order of execution should always be:</p> <ol> <li>If <code>ros_unity_config.json</code> is present: then</li> </ol> <pre><code>cd ~/sim_ws/tmux/multi_agent_sean\ntmuxinator\n</code></pre> <ol> <li>Hit play in Unity, at which point you should see initialization messages in Unity console. </li> <li>If you want to change the configuration for the next run, save config in SEAN Configurator GUI and <code>tmux kill-session</code> and unclick Play in Unity, then return to step 1.</li> </ol>"},{"location":"sensor_demo/","title":"Velodyne Sensor Demo","text":"<p>Here we will show you how to run a simple demo to demonstrate the new velodyne sensor capabilities in SEAN 3.0. </p> <p>Open the <code>social_sim_unity</code> project and open the <code>Warehouse Scene</code> but do not hit Play yet.</p> <p>To run a simple demo to demonstrate the new sensor capabilities navigate to <code>/sim_ws/tmux/sean_sensor_demo</code> folder to start tmuxinator</p> <pre><code>cd ~/sim_ws/tmux/sean_sensor_demo\ntmuxinator\n</code></pre> <p>This will launch a little GUI window where you can set how many robots you want to spawn. After setting num_robots, individual robot settings should pop up in the panel where you can set any combination for the following sensors:</p> <ul> <li><code>velodyne</code></li> <li><code>raycast</code></li> <li><code>camera</code> </li> </ul> <p>After you hit save configuration, this will save a <code>ros_unity_config.json</code> in <code>~\\sim_ws\\src\\social_sim_ros\\social_sim_ros\\config</code> </p> <p>Now you can hit play on the Unity simulator, after which you should see RVIZ window appear with the velodyne, raycast, and camera topics all visualized from namespaced topics.</p> <p>In subsequent runs if you want to keep the same settings, ignore the GUI window since the simulator will grab the existing <code>ros_unity_config.json.</code></p>"}]}